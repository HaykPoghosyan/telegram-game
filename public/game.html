<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ğŸ”¥ Friend Fighter</title>
    <script src="https://telegram.org/js/games.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="game.css">
</head>
<body>
    <!-- Main Menu -->
    <div id="menuScreen" class="menu-screen">
        <div class="game-logo">ğŸ”¥ Friend Fighter ğŸ”¥</div>
        <div class="subtitle">Battle Your Friends!</div>
        <button class="menu-btn" onclick="showCharacterSelect('pvp')">âš”ï¸ VS Friend</button>
        <button class="menu-btn secondary" onclick="showCharacterSelect('cpu')">ğŸ¤– VS Computer</button>
    </div>

    <!-- Character Select -->
    <div id="characterSelect" class="character-select">
        <div class="select-title">Choose Your Fighter</div>
        <div class="characters-grid" id="charactersGrid"></div>
        <button class="menu-btn" onclick="confirmCharacter()">Fight!</button>
        <button class="menu-btn secondary" onclick="backToMenu()">Back</button>
    </div>

    <!-- Waiting Screen -->
    <div id="waitingScreen" class="waiting-screen">
        <div class="select-title">â³ Waiting for Opponent...</div>
        <div class="waiting-spinner"></div>
        <p>Share the game link with a friend!</p>
        <div class="invite-section">
            <button class="menu-btn invite-btn" onclick="inviteFriend()">ğŸ“¤ Invite</button>
            <button class="menu-btn copy-btn" onclick="copyGameLink()">ğŸ“‹ Copy Link</button>
        </div>
        <button class="menu-btn secondary" onclick="backToMenu()" style="margin-top: 20px;">Back</button>
    </div>

    <!-- Fight Arena -->
    <div id="arena" class="arena">
        <div class="health-section">
            <div class="player-health">
                <div class="player-name-display" id="player1Name">Player 1</div>
                <div class="health-bar-container">
                    <div class="health-bar" id="player1Health" style="width: 100%;">
                        <span class="health-text" id="player1HealthText">100</span>
                    </div>
                </div>
                <div class="round-wins" id="player1Wins">âš« âš«</div>
            </div>
            
            <div class="round-info">
                <div class="round-number" id="roundNumber">ROUND 1</div>
                <div class="round-timer" id="roundTimer">60</div>
                <div class="special-status" id="specialStatus">ğŸ”’ SUPER LOCKED</div>
            </div>
            
            <div class="player-health">
                <div class="player-name-display" id="player2Name">Player 2</div>
                <div class="health-bar-container">
                    <div class="health-bar" id="player2Health" style="width: 100%;">
                        <span class="health-text" id="player2HealthText">100</span>
                    </div>
                </div>
                <div class="round-wins" id="player2Wins">âš« âš«</div>
            </div>
        </div>

        <div class="fight-stage">
            <div class="fighter player1" id="fighter1">
                <div class="combo-display" id="combo1"></div>
                <div class="fighter-sprite" id="fighter1Sprite">ğŸ¥·</div>
            </div>
            <div class="fighter player2" id="fighter2">
                <div class="combo-display" id="combo2"></div>
                <div class="fighter-sprite" id="fighter2Sprite">ğŸ¥·</div>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">
                <div class="control-wrapper">
                    <button class="control-btn btn-punch" ontouchstart="attack('punch')" onclick="attack('punch')">ğŸ‘Š</button>
                    <span class="control-label">HAND</span>
                </div>
                <div class="control-wrapper">
                    <button class="control-btn btn-kick" ontouchstart="attack('kick')" onclick="attack('kick')">ğŸ¦¶</button>
                    <span class="control-label">FOOT</span>
                </div>
            </div>
            <div class="control-group">
                <div class="control-wrapper">
                    <button class="control-btn btn-block" ontouchstart="block(true)" ontouchend="block(false)" onmousedown="block(true)" onmouseup="block(false)">ğŸ›¡ï¸</button>
                    <span class="control-label">BLOCK</span>
                </div>
                <div class="control-wrapper">
                    <button class="control-btn btn-special" id="superBtn" ontouchstart="specialAttack()" onclick="specialAttack()" disabled>ğŸ”’</button>
                    <span class="control-label" id="superLabel">SUPER (30s)</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Over -->
    <div id="gameOverScreen" class="game-over-screen">
        <div class="winner-text" id="winnerText">Victory!</div>
        <div class="winner-avatar" id="winnerAvatar">ğŸ†</div>
        <button class="menu-btn" onclick="playAgain()">ğŸ”„ Rematch</button>
        <button class="menu-btn secondary" onclick="backToMenu()">ğŸ  Menu</button>
    </div>

    <script src="game.js"></script>
</body>
</html>
